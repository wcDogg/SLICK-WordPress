function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}var aria=aria||{};aria.Utils=aria.Utils||{},function(){aria.Utils.IgnoreUtilFocusChanges=!1,aria.Utils.focusFirstDescendant=function(a){for(var b,c=0;c<a.childNodes.length;c++)if(b=a.childNodes[c],aria.Utils.attemptFocus(b)||aria.Utils.focusFirstDescendant(b))return!0;return!1},aria.Utils.focusLastDescendant=function(a){for(var b,c=a.childNodes.length-1;0<=c;c--)if(b=a.childNodes[c],aria.Utils.attemptFocus(b)||aria.Utils.focusLastDescendant(b))return!0;return!1},aria.Utils.attemptFocus=function(a){if(!aria.Utils.isFocusable(a))return!1;aria.Utils.IgnoreUtilFocusChanges=!0;try{a.focus()}catch(a){}return aria.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===a},aria.OpenModalList=aria.OpenModalList||[],aria.getCurrentModal=function(){if(aria.OpenModalList&&aria.OpenModalList.length)return aria.OpenModalList[aria.OpenModalList.length-1]},aria.closeCurrentModal=function(){var a=aria.getCurrentModal();return!!a&&(a.close(),!0)},aria.handleEscape=function(a){var b=a.which||a.keyCode;b===aria.KeyCode.ESC&&aria.closeCurrentModal()&&a.stopPropagation()},document.addEventListener("keyup",aria.handleEscape),aria.Modal=function(a,b,c){var d=this;if(this.modalNode=document.getElementById(a),null===this.modalNode)throw new Error("No element found with id=\""+a+"\".");document.getElementById("header").removeAttribute("data-header-sticky"),this.overlayNode=this.modalNode.parentNode,this.overlayNode.style.display="block";var e=window.innerWidth-document.body.offsetWidth;if(document.body.style.margin="0px "+e+"px 0px 0px",document.body.style.overflow="hidden",setTimeout(function(){d.overlayNode.setAttribute("data-modal-active",""),d.modalNode.setAttribute("data-modal-active",""),document.body.setAttribute("data-modal-active","")}),"string"==typeof b)this.focusAfterClosed=document.getElementById(b);else if("object"===_typeof(b))this.focusAfterClosed=b;else throw new Error("the focusAfterClosed parameter is required for the aria.Modal constructor.");this.focusFirst="string"==typeof c?document.getElementById(c):"object"===_typeof(c)?c:null;var f=document.createElement("div");this.preNode=this.overlayNode.insertBefore(f,this.modalNode),this.preNode.tabIndex=0;var g=document.createElement("div");this.postNode=this.overlayNode.insertBefore(g,this.modalNode.nextSibling),this.postNode.tabIndex=0,0<aria.OpenModalList.length&&aria.getCurrentModal().removeListeners(),this.addListeners(),aria.OpenModalList.push(this),this.clearModal(),this.focusFirst?this.focusFirst.focus():aria.Utils.focusFirstDescendant(this.modalNode),this.lastFocus=document.activeElement},aria.Modal.prototype.clearModal=function(){Array.prototype.map.call(this.modalNode.querySelectorAll("input"),function(a){a.value=""})},aria.Modal.prototype.close=function(){var a=this;this.removeListeners(),aria.Utils.remove(this.preNode),aria.Utils.remove(this.postNode);var b=this.modalNode.querySelector("iframe");if(b){var c=b.src;b.src=c}var d=this.modalNode.querySelector("video");d&&d.pause();var e=Array.from(this.modalNode.querySelectorAll("audio"));e.forEach(function(a){a&&a.pause()}),this.overlayNode.removeAttribute("data-modal-active"),this.modalNode.removeAttribute("data-modal-active"),document.body.removeAttribute("data-modal-active"),setTimeout(function(){a.overlayNode.style.display="none",document.body.style.margin="",document.body.style.overflow=""},500),this.focusAfterClosed.focus()},aria.Modal.prototype.addListeners=function(){document.addEventListener("focus",this.trapFocus,!0)},aria.Modal.prototype.removeListeners=function(){document.removeEventListener("focus",this.trapFocus,!0)},aria.Modal.prototype.trapFocus=function(a){if(!aria.Utils.IgnoreUtilFocusChanges){var b=aria.getCurrentModal();b.modalNode.contains(a.target)?b.lastFocus=a.target:(aria.Utils.focusFirstDescendant(b.modalNode),b.lastFocus==document.activeElement&&aria.Utils.focusLastDescendant(b.modalNode),b.lastFocus=document.activeElement)}},window.openModal=function(a,b,c){event.stopPropagation(),event.preventDefault();new aria.Modal(a,b,c)},window.closeModal=function(a){event.stopPropagation(),event.preventDefault();var b=aria.getCurrentModal();b.modalNode.contains(a)&&b.close()},console.log("INIT AraiModal.js")}();